{"swagger":"2.0","definitions":{"Account":{"type":"object","properties":{"account_type":{"type":"string"},"balance":{"type":"number","format":"float"},"cash_account_type":{"type":"string"},"config":{"type":"string"},"created_at":{"type":"string","format":"date-time"},"currency":{"type":"string"},"details":{"type":"string"},"icon":{"type":"string"},"id":{"type":"integer","format":"int32"},"institution_name":{"type":"string"},"name":{"type":"string"},"nordigen_id":{"type":"string"},"number":{"type":"string"},"owner_name":{"type":"string"},"product":{"type":"string"},"status":{"type":"string"},"updated_at":{"type":"string","format":"date-time"},"user_id":{"type":"integer","format":"int32"}},"required":["account_type","balance","created_at","currency","details","id","institution_name","name","nordigen_id","status","updated_at","user_id"]},"CreateAccounts":{"type":"object","properties":{"requisition_id":{"type":"string"}},"required":["requisition_id"]},"CreateFunction":{"type":"object","properties":{"name":{"type":"string"},"source":{"type":"string"}},"required":["name","source"]},"CreateRequisition":{"type":"object","properties":{"account_id":{"type":"integer","format":"int32"},"institution_id":{"type":"string"}}},"CreateSession":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}},"required":["email","password"]},"CreateTrigger":{"type":"object","properties":{"event":{"type":"string"},"function_id":{"type":"integer","format":"int32"},"name":{"type":"string"},"params":{"type":"object","additionalProperties":{"type":"string"}}},"required":["event","function_id","name","params"]},"Function":{"type":"object","properties":{"created_at":{"type":"string","format":"date-time"},"id":{"type":"integer","format":"int32"},"name":{"type":"string"},"source":{"type":"string"},"type":{"type":"string"},"updated_at":{"type":"string","format":"date-time"},"user_id":{"type":"integer","format":"int32"}},"required":["created_at","id","name","source","type","updated_at","user_id"]},"FunctionWithParams":{"type":"object","properties":{"created_at":{"type":"string","format":"date-time"},"id":{"type":"integer","format":"int32"},"name":{"type":"string"},"params":{"type":"object","additionalProperties":{"type":"object","properties":{"name":{"type":"string"},"type":{"type":"string"}},"required":["name","type"]}},"source":{"type":"string"},"type":{"type":"string"},"updated_at":{"type":"string","format":"date-time"},"user_id":{"type":"integer","format":"int32"}},"required":["created_at","id","name","source","type","updated_at","user_id"]},"Institution":{"type":"object","properties":{"bic":{"type":"string"},"countries":{"type":"array","items":{"type":"string"}},"id":{"type":"string"},"logo":{"type":"string"},"name":{"type":"string"},"transaction_total_days":{"type":"string"}},"required":["bic","countries","id","logo","name","transaction_total_days"]},"NewUser":{"type":"object","properties":{"email":{"type":"string"},"name":{"type":"string"},"password":{"type":"string"}},"required":["email","name","password"]},"RelinkAccount":{"type":"object","properties":{"requisition_id":{"type":"string"}},"required":["requisition_id"]},"Requisition":{"type":"object","properties":{"accounts":{"type":"array","items":{"type":"string"}},"id":{"type":"string"},"link":{"type":"string"},"redirect":{"type":"string"},"status":{"type":"string"}},"required":["accounts","id","link","redirect","status"]},"TestFunction":{"type":"object","properties":{"params":{"type":"string"},"payload":{"type":"string"}},"required":["params","payload"]},"Transaction":{"type":"object","properties":{"accountId":{"type":"integer","format":"int32"},"bookingDate":{"type":"string","format":"date"},"bookingDatetime":{"type":"string","format":"date-time"},"createdAt":{"type":"string","format":"date-time"},"creditorName":{"type":"string"},"currencyExchangeRate":{"type":"string"},"currencyExchangeSourceCurrency":{"type":"string"},"currencyExchangeTargetCurrency":{"type":"string"},"debtorName":{"type":"string"},"externalId":{"type":"string"},"id":{"type":"integer","format":"int32"},"merchantId":{"type":"integer","format":"int32"},"proprietaryBankTransactionCode":{"type":"string"},"remittanceInformation":{"type":"string"},"transactionAmount":{"type":"string"},"transactionAmountCurrency":{"type":"string"},"updatedAt":{"type":"string","format":"date-time"},"userId":{"type":"integer","format":"int32"}},"required":["accountId","bookingDate","createdAt","externalId","id","transactionAmount","transactionAmountCurrency","updatedAt","userId"]},"TransactionWithMerchant":{"type":"object","properties":{"accountId":{"type":"integer","format":"int32"},"bookingDate":{"type":"string","format":"date"},"bookingDatetime":{"type":"string","format":"date-time"},"createdAt":{"type":"string","format":"date-time"},"creditorName":{"type":"string"},"currencyExchangeRate":{"type":"string"},"currencyExchangeSourceCurrency":{"type":"string"},"currencyExchangeTargetCurrency":{"type":"string"},"debtorName":{"type":"string"},"externalId":{"type":"string"},"id":{"type":"integer","format":"int32"},"merchant":{"type":"object","properties":{"created_at":{"type":"string","format":"date-time"},"external_id":{"type":"string"},"id":{"type":"integer","format":"int32"},"labels":{"type":"string"},"location":{"type":"string"},"location_structured":{"type":"object","properties":{"address":{"type":"string"},"apple_maps_url":{"type":"string"},"city":{"type":"string"},"country":{"type":"string"},"google_maps_url":{"type":"string"},"latitude":{"type":"number","format":"float"},"longitude":{"type":"number","format":"float"},"postcode":{"type":"string"},"state":{"type":"string"},"store_number":{"type":"number","format":"float"}}},"logo_url":{"type":"string"},"name":{"type":"string"},"website":{"type":"string"}},"required":["created_at","id","name"]},"merchantId":{"type":"integer","format":"int32"},"proprietaryBankTransactionCode":{"type":"string"},"remittanceInformation":{"type":"string"},"transactionAmount":{"type":"string"},"transactionAmountCurrency":{"type":"string"},"updatedAt":{"type":"string","format":"date-time"},"userId":{"type":"integer","format":"int32"}},"required":["accountId","bookingDate","createdAt","externalId","id","transactionAmount","transactionAmountCurrency","updatedAt","userId"]},"Trigger":{"type":"object","properties":{"created_at":{"type":"string","format":"date-time"},"event":{"type":"string"},"filter":{"type":"array","items":{"type":"string"}},"function_id":{"type":"integer","format":"int32"},"id":{"type":"integer","format":"int32"},"name":{"type":"string"},"params":{"type":"object","additionalProperties":{"type":"string"}},"updated_at":{"type":"string","format":"date-time"},"user_id":{"type":"integer","format":"int32"}},"required":["created_at","event","filter","function_id","id","name","params","updated_at","user_id"]},"TriggerLog":{"type":"object","properties":{"created_at":{"type":"string","format":"date-time"},"id":{"type":"integer","format":"int32"},"payload":{"type":"string"},"status":{"type":"string"},"trigger_id":{"type":"integer","format":"int32"},"updated_at":{"type":"string","format":"date-time"},"user_id":{"type":"integer","format":"int32"}},"required":["created_at","id","payload","status","trigger_id","updated_at","user_id"]},"TriggerQueue":{"type":"object","properties":{"created_at":{"type":"string","format":"date-time"},"id":{"type":"integer","format":"int32"},"payload":{"type":"string"},"trigger_id":{"type":"integer","format":"int32"},"updated_at":{"type":"string","format":"date-time"},"user_id":{"type":"integer","format":"int32"}},"required":["created_at","id","payload","trigger_id","updated_at","user_id"]},"UpdateAccount":{"type":"object","properties":{"account_type":{"type":"string"},"cash_account_type":{"type":"string"},"currency":{"type":"string"},"details":{"type":"string"},"icon":{"type":"string"},"id":{"type":"integer","format":"int32"},"institution_name":{"type":"string"},"name":{"type":"string"},"number":{"type":"string"},"owner_name":{"type":"string"},"product":{"type":"string"},"status":{"type":"string"}}},"UpdateFunction":{"type":"object","properties":{"id":{"type":"integer","format":"int32"},"name":{"type":"string"},"source":{"type":"string"}}},"UpdateTrigger":{"type":"object","properties":{"event":{"type":"string"},"function_id":{"type":"integer","format":"int32"},"name":{"type":"string"},"params":{"type":"object","additionalProperties":{"type":"string"}}}},"UpdateUser":{"type":"object","properties":{"email":{"type":"string"},"id":{"type":"integer","format":"int32"},"name":{"type":"string"},"password":{"type":"string"}}},"User":{"type":"object","properties":{"created_at":{"type":"string","format":"date-time"},"email":{"type":"string"},"id":{"type":"integer","format":"int32"},"name":{"type":"string"},"password":{"type":"string"},"updated_at":{"type":"string","format":"date-time"}},"required":["created_at","email","id","name","password","updated_at"]}},"paths":{"/api/v1/accounts":{"get":{"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/Account"}}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized: Can't read session from header"},"500":{"description":"Internal Server Error"}}},"post":{"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/Account"}}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized: Can't read session from header"},"500":{"description":"Internal Server Error"}},"parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/CreateAccounts"}}]}},"/api/v1/accounts/sync":{"post":{"responses":{"200":{"description":"OK","schema":{"type":"object","additionalProperties":{"type":"array","items":{"$ref":"#/definitions/TransactionWithMerchant"}}}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized: Can't read session from header"},"500":{"description":"Internal Server Error"}}}},"/api/v1/accounts/{account_id}":{"get":{"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Account"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized: Can't read session from header"},"500":{"description":"Internal Server Error"}},"parameters":[{"in":"path","name":"account_id","required":true,"type":"integer","format":"int32"}]},"post":{"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Account"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized: Can't read session from header"},"500":{"description":"Internal Server Error"}},"parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/UpdateAccount"}},{"in":"path","name":"account_id","required":true,"type":"integer","format":"int32"}]},"delete":{"responses":{"200":{"description":"OK","schema":{}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized: Can't read session from header"},"500":{"description":"Internal Server Error"}},"parameters":[{"in":"path","name":"account_id","required":true,"type":"integer","format":"int32"}]}},"/api/v1/accounts/{account_id}/relink":{"post":{"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Account"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized: Can't read session from header"},"500":{"description":"Internal Server Error"}},"parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/RelinkAccount"}},{"in":"path","name":"account_id","required":true,"type":"integer","format":"int32"}]}},"/api/v1/accounts/{account_id}/sync":{"post":{"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/Transaction"}}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized: Can't read session from header"},"500":{"description":"Internal Server Error"}},"parameters":[{"in":"path","name":"account_id","required":true,"type":"integer","format":"int32"}]}},"/api/v1/functions":{"get":{"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/FunctionWithParams"}}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized: Can't read session from header"},"500":{"description":"Internal Server Error"}}},"post":{"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Function"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized: Can't read session from header"},"500":{"description":"Internal Server Error"}},"parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/CreateFunction"}}]}},"/api/v1/functions/{function_id}":{"get":{"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/FunctionWithParams"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized: Can't read session from header"},"500":{"description":"Internal Server Error"}},"parameters":[{"in":"path","name":"function_id","required":true,"type":"integer","format":"int32"}]},"post":{"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Function"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized: Can't read session from header"},"500":{"description":"Internal Server Error"}},"parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/UpdateFunction"}},{"in":"path","name":"function_id","required":true,"type":"integer","format":"int32"}]},"delete":{"responses":{"200":{"description":"OK","schema":{}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized: Can't read session from header"},"500":{"description":"Internal Server Error"}},"parameters":[{"in":"path","name":"function_id","required":true,"type":"integer","format":"int32"}]}},"/api/v1/functions/{function_id}/test":{"post":{"responses":{"200":{"description":"OK","schema":{"type":"string"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized: Can't read session from header"},"500":{"description":"Internal Server Error"}},"parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/TestFunction"}},{"in":"path","name":"function_id","required":true,"type":"integer","format":"int32"}]}},"/api/v1/requisitions":{"post":{"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Requisition"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized: Can't read session from header"},"500":{"description":"Internal Server Error"}},"parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/CreateRequisition"}}]}},"/api/v1/requisitions/institutions":{"get":{"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/Institution"}}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized: Can't read session from header"},"500":{"description":"Internal Server Error"}}}},"/api/v1/transactions":{"get":{"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/TransactionWithMerchant"}}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized: Can't read session from header"},"500":{"description":"Internal Server Error"}},"parameters":[{"in":"query","name":"page","type":"integer","format":"int64"},{"in":"query","name":"per_page","type":"integer","format":"int64"}]}},"/api/v1/transactions/{transaction_id}":{"get":{"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/TransactionWithMerchant"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized: Can't read session from header"},"500":{"description":"Internal Server Error"}},"parameters":[{"in":"path","name":"transaction_id","required":true,"type":"integer","format":"int32"}]},"delete":{"responses":{"200":{"description":"OK","schema":{}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized: Can't read session from header"},"500":{"description":"Internal Server Error"}},"parameters":[{"in":"path","name":"transaction_id","required":true,"type":"integer","format":"int32"}]}},"/api/v1/triggers":{"get":{"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/Trigger"}}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized: Can't read session from header"},"500":{"description":"Internal Server Error"}}},"post":{"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Trigger"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized: Can't read session from header"},"500":{"description":"Internal Server Error"}},"parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/CreateTrigger"}}]}},"/api/v1/triggers/log":{"get":{"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/TriggerLog"}}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized: Can't read session from header"},"500":{"description":"Internal Server Error"}}}},"/api/v1/triggers/queue":{"get":{"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/TriggerQueue"}}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized: Can't read session from header"},"500":{"description":"Internal Server Error"}}}},"/api/v1/triggers/queue/process":{"post":{"responses":{"200":{"description":"OK","schema":{"type":"object","additionalProperties":{"$ref":"#/definitions/TriggerLog"}}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized: Can't read session from header"},"500":{"description":"Internal Server Error"}}}},"/api/v1/triggers/{trigger_id}":{"get":{"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Trigger"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized: Can't read session from header"},"500":{"description":"Internal Server Error"}},"parameters":[{"in":"path","name":"trigger_id","required":true,"type":"integer","format":"int32"}]},"post":{"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Trigger"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized: Can't read session from header"},"500":{"description":"Internal Server Error"}},"parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/UpdateTrigger"}},{"in":"path","name":"trigger_id","required":true,"type":"integer","format":"int32"}]},"delete":{"responses":{"200":{"description":"OK","schema":{}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized: Can't read session from header"},"500":{"description":"Internal Server Error"}},"parameters":[{"in":"path","name":"trigger_id","required":true,"type":"integer","format":"int32"}]}},"/api/v1/users":{"post":{"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/User"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized: Can't read session from header"},"500":{"description":"Internal Server Error"}},"parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/NewUser"}}]}},"/api/v1/users/me":{"get":{"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/User"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized: Can't read session from header"},"500":{"description":"Internal Server Error"}}},"post":{"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/User"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized: Can't read session from header"},"500":{"description":"Internal Server Error"}},"parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/UpdateUser"}}]}},"/api/v1/users/session":{"post":{"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/User"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized: Can't read session from header"},"500":{"description":"Internal Server Error"}},"parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/CreateSession"}}]},"delete":{"responses":{"200":{"description":"OK","schema":{}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized: Can't read session from header"},"500":{"description":"Internal Server Error"}}}}},"info":{"version":"","title":""}}